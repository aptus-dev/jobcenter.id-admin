<!-- page container -->
<div class="page-container">

  <!-- page header -->
  <div class="page-header">

    <!-- page header holder -->
    <nav class="navbar navbar-default-admin">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-2">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="fa fa-bars"></span>
                      </button>
          <a class="brand" ui-sref="/"><img class="img-responsive" src="../img/logo.png" /></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="navbar-collapse-2">
          <ul class="nav navbar-nav navbar-right">
            <li><a title="Edit my profile" ui-sref="admin-profile"><span class="fa fa-cog"></span></a></li>
            <li><a ui-sref="admin-list">Admins</a></li>
            <li>
              <a href="" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                              Workers
                            </a>
              <div class="dropdown-menu">
                <a class="dropdown-item" ui-sref="worker">Register Workers</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" ui-sref="worker-available">Available Workers</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" ui-sref="worker-booked">Booked Workers</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" ui-sref="worker-meeting">Meeting List</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" ui-sref="worker-unavailable">Unavailable List</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" ui-sref="worker-cancelled">Cancelled Workers</a>
              </div>
            </li>
            <li><a ui-sref="offices">Offices</a></li>
            <li><a href="" ng-click="logout()"><span class="fa fa-sign-out"></span> Log Out</a></li>
          </ul>
        </div>
        <!-- /.navbar-collapse -->
      </div>
      <!-- /.container -->
    </nav>
    <!-- /.navbar -->
    <!-- ./page header holder -->

  </div>
  <!-- ./page header -->

  <!-- page content -->
  <div class="page-content" ng-controller="bookedWorker">

    <!-- page content wrapper -->
    <div class="page-content-wrap">
      <div class="container">
        <h2>List Pekerja  <small> yang telah di book </small></h2>
      </div>
      <br>
      <div class="divider">
        <div class="box"><span class="fa fa-angle-down"></span></div>
      </div>

      <!-- page content holder -->
      <div class="page-content-wrap">
        <div class="container">
          <div class="row">

            <!-- filter -->
            <div class="container">
              <div class="row">
                <div class="col-md-5">
                  <h3 class="text-left">Filter:</h3>
                </div>
                <div class="col-md-7">
                </div>
              </div>
              <div class="well" style="max-height: 400px;overflow: auto;">

                <div class="col-sm-3">
                  <div class="form-group">
                    <input placeholder="Masukkan Nama" class="form-control" id="nama" ng-model="input.nama" />
                  </div>
                </div>

                <div class="col-sm-3">
                  <!--<div class="form-group">
                    <select class="form-control" id="lokasi" ng-model="input.lokasi">
                      <option value="">Lokasi Cabang</option>
                      <option ng-repeat="branch in branches">{{branch.kotamadya}}</option>                                     
                    </select>
                  </div>-->
                  <div class="form-group">
                    <input type="text" class="" id="tersedia" ng-model="input.status" ng-init="input.status='booked'" hidden/>
                  </div>
                </div>

                <!--<div class="col-sm-3">
                            <div class="form-group">
                                <select class="form-control select" id="profesi" ng-model="input.profesi">
                                    <option value="">Pekerjaan yang Diminati</option>
                                    <option>Infal / Cuci-gosok</option>
                                    <option>Pembantu (Full-time)</option>
                                    <option>Tukang Kebun</option>
                                    <option>Penjaga Binatang Peliharaan</option>
                                    <option>Sopir</option>
                                    <option>Tukang / Maintenance</option>
                                    <option>Baby Sitter</option>
                                    <option>Nanny / Perawat Orang Sakit</option>
                                    <option>Satpam</option>
                                    <option>Pekerja Umum</option>
                                </select>
                            </div>                          
                        </div>-->

                <!--<div class="col-sm-3">
                            <div class="form-group">
                                <select class="form-control" id="gender" ng-model="input.gender">
                                    <option value="">Jenis Kelamin</option>
                                    <option>Laki-laki</option>
                                    <option>Perempuan</option>
                                </select>
                            </div>                           
                            <br>                            
                        </div>                        -->

              </div>
              <!--<a class="btn btn-primary pull-right" ng-click="apply()">
                      <span class="glyphicon glyphicon-filter"></span> Update
                    </a>-->
            </div>
          </div>
          <!--end of filter-->

          <!--/Search RESULTS-->
          <div class="container">
            <h3>Search Results:</h3>
            <hr>

            <table class="table table-striped table-actions">
              <thead>
                <!--<th>Book id</th>-->
                <th>
                  <a style="color:#56688A" href="" ng-click="sortType = 'nama'; sortReverse = !sortReverse">
                    Nama Pekerja
                    <span ng-show="sortType == 'nama' && !sortReverse" class="fa fa-caret-down"></span>
                    <span ng-show="sortType == 'nama' && sortReverse" class="fa fa-caret-up"></span>
                    </a>
                </th>
                <th><a style="color:#56688A" href="" ng-click="sortType = 'user'; sortReverse = !sortReverse">
                    Nama Pencari Kerja
                    <span ng-show="sortType == 'user' && !sortReverse" class="fa fa-caret-down"></span>
                    <span ng-show="sortType == 'user' && sortReverse" class="fa fa-caret-up"></span>
                    </a></th>
                <th><a style="color:#56688A" href="" ng-click="sortType = 'contact'; sortReverse = !sortReverse">
                    No. Telpon
                    <span ng-show="sortType == 'contact' && !sortReverse" class="fa fa-caret-down"></span>
                    <span ng-show="sortType == 'contact' && sortReverse" class="fa fa-caret-up"></span>
                    </a></th>
                <th><a style="color:#56688A" href="" ng-click="sortType = 'email'; sortReverse = !sortReverse">
                    Email
                    <span ng-show="sortType == 'email' && !sortReverse" class="fa fa-caret-down"></span>
                    <span ng-show="sortType == 'email' && sortReverse" class="fa fa-caret-up"></span>
                    </a></th>
                <th><a style="color:#56688A" href="" ng-click="sortType = 'bookDate'; sortReverse = !sortReverse">
                    Tanggal
                    <span ng-show="sortType == 'bookDate' && !sortReverse" class="fa fa-caret-down"></span>
                    <span ng-show="sortType == 'bookDate' && sortReverse" class="fa fa-caret-up"></span>
                    </a></th>
                <th><a style="color:#56688A" href="" ng-click="sortType = 'comment'; sortReverse = !sortReverse">
                    Keterangan
                    <span ng-show="sortType == 'comment' && !sortReverse" class="fa fa-caret-down"></span>
                    <span ng-show="sortType == 'comment' && sortReverse" class="fa fa-caret-up"></span>
                    </a></th>
                <th width="60"><a style="color:#56688A">
                    Set Meeting
                  </a></th>
                <th width="60"><a style="color:#56688A">
                    Cancel Booking
                  </a></th>
                <!--<th width="50">&nbsp;</th>-->
              </thead>

              <tbody>
                <tr dir-paginate="pus in push | filter:input | orderBy:sortType:sortReverse | itemsPerPage: pageSize" 
                  current-page="currentPage">
                  <!--<td>{{pus.id}}</td>-->
                  <td><span style="font-weight:bold">{{pus.nama}}</span></td>
                  <td>{{pus.user}}</td>
                  <td>{{pus.contact}}</td>
                  <td>{{pus.email}}</td>
                  <td>{{pus.bookDate | date}}</td>
                  <td>{{pus.comment}}</td>
                  <td>
                    <button title="Set Meeting" class="btn btn-default btn-rounded btn-sm" data-toggle="modal" 
                      ui-sref="set-meeting({ '#': 'meetModal' })" ng-click="modalMeeting(pus)">
                      <span class="fa fa-calendar"></span>
                    </button>
                  </td>
                  <td>
                    <button title="Cancel Booking" class="btn btn-default btn-rounded btn-sm" data-toggle="modal" 
                      ui-sref="set-meeting({ '#': 'cbookModal' })" ng-click="cancelModal(pus)">
                      <span class="fa fa-calendar-times-o"></span>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="text-center">
              <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" 
                template-url="./search/dirPagination.tpl.html"></dir-pagination-controls>
            </div>

            <!-- Set Meeting Modal -->
            <div id="meetModal" class="modal fade" role="dialog">
              <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Buat Meeting antara 
                      <span class="text-danger"> {{pus.nama}}</span> dengan 
                      <span class="text-danger"> {{pus.user}}</span>
                    </h4>                    
                  </div>
                  <div class="modal-body">
                    <!--<div class="alert alert-danger" ng-show="notValid">
                      <span>Harap isi semua field di form ini.</span>
                    </div>-->
                    <!-- ANGULAR VALIDATION FORM ============ -->

                  <form name="userForm">
                    
                    <label>Masukkan Tanggal Meeting:</label>
                    
                    <div class="form-group">                    
                      <input type="date" name="tanggal" id="tanggal" class="form-control datepicker" ng-model="tanggal" required/>                      
                    </div>
                    
                    <ul id="check-box-list" class="list-group checked-list-box">
                      <div class="checkbox"><label><input type="checkbox" ng-model="term">Pastikan Tanggal Sudah Benar</label></div>
                    </ul>

                    <button ng-disabled="!term" type="submit" class="btn btn-primary" id="close" 
                    ng-click="setMeeting(userForm)">Submit</button>
                    <br>                      
                  </form>
                    
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            <!-- ./Set Meeting Modal -->
            
            <!-- Cancel Booking Modal -->
            <div id="cbookModal" class="modal fade" role="dialog">
              <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Cancel Booking antara 
                      <span class="text-danger"> {{pus.nama}}</span> dengan 
                      <span class="text-danger"> {{pus.user}}</span>
                    </h4>                    
                  </div>
                  <div class="modal-body">
                    <!--<div class="alert alert-danger" ng-show="notValid">
                      <span>Harap isi semua field di form ini.</span>
                    </div>-->
                    <!-- ANGULAR VALIDATION FORM ============ -->

                  <form name="userForm">
                    
                    <label>Masukkan Alasan Mengapa Booking di Cancel:</label>
                    
                    <div class="form-group">                    
                      <input type="text" name="tanggal" class="form-control" ng-model="alasan" required/>                      
                    </div>
                    
                    <ul class="list-group checked-list-box">
                      <div class="checkbox"><label><input type="checkbox" ng-model="term">Apakah anda yakin akan cancel booking?</label></div>
                    </ul>

                    <button ng-disabled="!term" type="submit" class="btn btn-primary" 
                      ng-click="cancelBooking(userForm)">Submit</button>
                    <br>                      
                  </form>
                    
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            <!-- ./Cancel Booking Modal -->
            
          </div>
        </div>
        <!-- ./page content holder -->
      </div>
      <!-- ./page content wrapper -->

    </div>
    <!-- ./page content wrap -->

  </div>
  <!-- ./page content -->
  <script type="text/javascript" src="/vendor/jquery.dataTables.min.js"></script>
</div>
<!-- ./page container -->